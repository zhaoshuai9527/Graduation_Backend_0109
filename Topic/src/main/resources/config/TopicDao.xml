<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.topic.dao.TopicDao">

   <parameterMap id="topic" type="com.topic.entity.Topic"></parameterMap>

    <select id="getTopicList" resultType="com.topic.entity.Topic">
        select * from tf_f_topic where titleName like  CONCAT(#{query},'%')
    </select>

    <select id="getTopicListOfAll" resultType="com.topic.entity.Topic">
        select * from tf_f_topic
    </select>

    <insert id="publishTopic" >
        insert into tf_f_topic (titleNo,titleName,titleRequire,titleDescribe,teacherNo,admission,limitNum)
        VALUES (#{titleNo}, #{titleName},
                #{titleRequire},#{titleDescribe},
                #{teacherNo},#{admission},#{limitNum})
    </insert>

    <update id="editTopic">
        update tf_f_topic set titleName = #{titleName}, titleRequire = #{titleRequire}, titleDescribe = #{titleDescribe},
                              teacherNo = #{teacherNo}, limitNum = #{limitNum}
        where titleNo = #{titleNo} and admission = #{admission}
    </update>

    <delete id="deleteTopic">
        delete  from tf_f_topic where titleNo = #{titleNo}
    </delete>




    <insert id="selectWishOneTopic">
        insert into tf_f_wishOne (titleNo,titleName,teacherNo,teacherName,stuNo,stuName,selectTime)
        VALUES (#{titleNo}, #{titleName},
                #{teacherNo},#{teacherName},
                #{stuNo},#{stuName},
                #{selectTime}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    )
    </insert>



</mapper>